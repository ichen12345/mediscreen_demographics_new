<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <title>Edit Patient</title>
</head>
<body>
<h1>Edit Patient</h1>

<!-- Form for editing patient information -->
<form th:action="@{/patients/update}" method="post" th:object="${patient}">
    <input type="hidden" th:field="*{id}"/> <!-- Hidden field for patient ID -->

    <div>
        <label for="given">First Name:</label>
        <input type="text" th:field="*{given}" required readonly/>
        <!-- Display error message for 'given' field -->
        <span th:if="${#fields.hasErrors('given')}" th:errors="*{given}"></span>
    </div>

    <div>
        <label for="family">Last Name:</label>
        <input type="text" th:field="*{family}" required readonly/>
        <!-- Display error message for 'family' field -->
        <span th:if="${#fields.hasErrors('family')}" th:errors="*{family}"></span>
    </div>

    <div>
        <label for="address">Address:</label>
        <input type="text" th:field="*{address}" required/>
        <!-- Display error message for 'address' field -->
        <span th:if="${#fields.hasErrors('address')}" th:errors="*{address}"></span>
    </div>

    <div>
        <label for="dob">Date of Birth:</label>
        <input type="date" th:field="*{dob}" required/>
        <!-- Display error message for 'dob' field -->
        <span th:if="${#fields.hasErrors('dob')}" th:errors="*{dob}"></span>
    </div>

    <div>
        <label for="sex">Sex:</label>
        <select th:field="*{sex}" required>
            <option value="" disabled>Select Gender</option>
            <option value="M">Male</option>
            <option value="F">Female</option>
            <option value="O">Other</option>
        </select>
        <!-- Display error message for 'sex' field -->
        <span th:if="${#fields.hasErrors('sex')}" th:errors="*{sex}"></span>
    </div>

    <div>
        <label for="phone">Phone:</label>
        <input type="text" th:field="*{phone}" required/>
        <!-- Display error message for 'phone' field -->
        <span th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></span>
    </div>

    <button type="submit">Save</button> <!-- Save button -->
</form>

<!-- Link to go back to the patients list -->
<a href="/patients">Back to Patients</a>

</body>
</html>
